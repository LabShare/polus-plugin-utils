# ImageJ filter addpoissonnoise v(0.5.1)

This plugin adds noise of a [Poisson](https://en.wikipedia.org/wiki/Poisson_distribution) distribution to an input image using the
implementation in D. E. Knuth. Art of Computer Programming, Volume 2:
Seminumerical Algorithms (3rd Edition). Addison-Wesley Professional,
November 1997. It is important to note that with large lambda values (expected
number of successes in a given interval) the ImageJ implementation will hang up.
This is due to exp(-lambda) approaching 0 and thus the while loop evaluation
will never break the while loop due to underflow. This has been documented
before, see the **Generating Poisson-distributed** random variables section of
the above Wikipedia link. Therefore, all input images are normalized to a 0 to
255 pixel value range before being passed to the ImageJ op. The images are
finally unnormalized before the plugin saves the output image.

This WIPP plugin was automatically generated by a utility that searches for
ImageJ plugins and generates code to run them. For more information on what this
plugin does, contact one of the authors: Nick Schaub (nick.schaub@nih.gov),
Anjali Taneja or Benjamin Houghton (benjamin.houghton@axleinfo.com).

For more information on WIPP, visit the [official WIPP page](https://isg.nist.gov/deepzoomweb/software/wipp).

## Building

Bump the version in the `VERSION` file.

Then to build the Docker image for the conversion plugin, run
`./build-docker.sh`.

## Install WIPP Plugin

If WIPP is running, navigate to the plugins page and add a new plugin.
Paste the contents of `plugin.json` into the pop-up window and submit.

## Options

This plugin takes one input argument and one output argument:

| Name              | Description                                     | I/O    | Type       |
| ----------------- | ----------------------------------------------- | ------ | ---------- |
| `--inpDir`        | Input collection to be processed by this plugin | Input  | collection |
| `--pattern`       | The filepattern to use for the images           | Input  | string     |
| `--outDir`        | The output collection                           | Output | collection |
